<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-01-11 Mon 20:10 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgde93ad7">1. Design notes</a>
<ul>
<li><a href="#org192925a">1.1. Requirements</a>
<ul>
<li><a href="#orgeddb6d9">1.1.1. Requirement</a></li>
<li><a href="#org416eb92">1.1.2. Requirement</a></li>
<li><a href="#org4d9c215">1.1.3. Requirement</a></li>
<li><a href="#org6e03652">1.1.4. Requirement</a></li>
</ul>
</li>
<li><a href="#org039e52e">1.2. How to run a demo for yourself</a>
<ul>
<li><a href="#org919a440">1.2.1. Get the code</a></li>
<li><a href="#org22e9e54">1.2.2. Run demo inside the Docker container:</a></li>
<li><a href="#org2738991">1.2.3. Run demo outside Docker container</a></li>
</ul>
</li>
<li><a href="#org29d9dd5">1.3. <span class="todo TODO">TODO</span> Update this since new code (mostly the same but some changes - more classes): Interactions at a high level</a></li>
<li><a href="#orgd4770bc">1.4. Docker container</a></li>
<li><a href="#orgce27244">1.5. (Bonus/optional material) Convenience web service endpoints for BIEL UI to call (if desired)</a></li>
<li><a href="#org001af98">1.6. Oddities - differences from the norm in resources I've found</a></li>
<li><a href="#org895c6b0">1.7. Handling different manifests</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgde93ad7" class="outline-2">
<h2 id="orgde93ad7"><span class="section-number-2">1</span> Design notes</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org192925a" class="outline-3">
<h3 id="org192925a"><span class="section-number-3">1.1</span> Requirements</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-orgeddb6d9" class="outline-4">
<h4 id="orgeddb6d9"><span class="section-number-4">1.1.1</span> Requirement</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Allow creating a document out of any combination of resources from any
supported (in translations.json) language in any order.
</p>
</div>
</div>
<div id="outline-container-org416eb92" class="outline-4">
<h4 id="org416eb92"><span class="section-number-4">1.1.2</span> Requirement</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
Produce PDF final document.
</p>
</div>
</div>
<div id="outline-container-org4d9c215" class="outline-4">
<h4 id="org4d9c215"><span class="section-number-4">1.1.3</span> Requirement</h4>
<div class="outline-text-4" id="text-1-1-3">
<p>
If generation of PDF document takes longer than X threshold of time,
then return a message to the user giving link where document will
eventually be found. E.g., display message to user in interface, say
after a cache miss on document request, or, via email. Details to be
determined.
</p>
</div>
</div>
<div id="outline-container-org6e03652" class="outline-4">
<h4 id="org6e03652"><span class="section-number-4">1.1.4</span> Requirement</h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
Handle TN, TA, TW, TQ, ULB, UDB resource requests. Later perhaps also
OBS, etc..
</p>
</div>
</div>
</div>
<div id="outline-container-org039e52e" class="outline-3">
<h3 id="org039e52e"><span class="section-number-3">1.2</span> How to run a demo for yourself</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-org919a440" class="outline-4">
<h4 id="org919a440"><span class="section-number-4">1.2.1</span> Get the code</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
Get the tools repo:
</p>

<div class="org-src-container">
<pre class="src src-shell">git clone https://github.com/linearcombination/tools.git
</pre>
</div>

<p>
Then cd into the tools directory you just creating by cloning.
</p>
</div>
</div>
<div id="outline-container-org22e9e54" class="outline-4">
<h4 id="org22e9e54"><span class="section-number-4">1.2.2</span> Run demo inside the Docker container:</h4>
<div class="outline-text-4" id="text-1-2-2">
</div>
<ol class="org-ol">
<li><a id="orga197721"></a>Build the container<br />
<div class="outline-text-5" id="text-1-2-2-1">
<p>
First take down any running containers from previous runs:
</p>

<div class="org-src-container">
<pre class="src src-shell">make down
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">make build
</pre>
</div>
</div>
</li>
<li><a id="org05bcec0"></a>Or, build the container the 2+Nth time from scratch<br />
<div class="outline-text-5" id="text-1-2-2-2">
<p>
First take down any running containers from previous runs:
</p>

<div class="org-src-container">
<pre class="src src-shell">make down
</pre>
</div>

<p>
then
</p>

<div class="org-src-container">
<pre class="src src-shell">make build-no-cache
</pre>
</div>
</div>
</li>

<li><a id="org4f68c0e"></a>Run the tests<br />
<div class="outline-text-5" id="text-1-2-2-3">
<div class="org-src-container">
<pre class="src src-shell">make test
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org2738991" class="outline-4">
<h4 id="org2738991"><span class="section-number-4">1.2.3</span> Run demo outside Docker container</h4>
<div class="outline-text-4" id="text-1-2-3">
</div>
<ol class="org-ol">
<li><a id="org6dcd2d5"></a>Install the required python packages. I use pipenv, but you can do it however you prefer.<br />
<div class="outline-text-5" id="text-1-2-3-1">
<p>
First tell pipenv which python to use:
</p>
<div class="org-src-container">
<pre class="src src-shell">pipenv --python /path/to/python3
</pre>
</div>

<p>
then
</p>

<div class="org-src-container">
<pre class="src src-shell">pipenv shell # get in the pipenv, virtualenv, conda, whatever shell
</pre>
</div>

<p>
then
</p>

<div class="org-src-container">
<pre class="src src-shell"># You can do just this one if you don't want to bother with virtual
# envs. With pipenv as you probably know, this will make a virtual env
# only install of the requirements only accessible after: pipenv
# shell.
pipenv install
</pre>
</div>
</div>
</li>

<li><a id="orgdb8da72"></a>Run tests<br />
<div class="outline-text-5" id="text-1-2-3-2">
<div class="org-src-container">
<pre class="src src-shell">pytest
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org29d9dd5" class="outline-3">
<h3 id="org29d9dd5"><span class="section-number-3">1.3</span> <span class="todo TODO">TODO</span> Update this since new code (mostly the same but some changes - more classes): Interactions at a high level</h3>
<div class="outline-text-3" id="text-1-3">

<div class="figure">
<p><img src="wa_design_sequence_diagram1.png" alt="wa_design_sequence_diagram1.png" />
</p>
</div>


<p>
<code>DocumentGenerator</code> passes back a JSON dict containing any messaging and
the eventual location of the generated document for display to the
requesting user (by <code>BIEL</code>), or the document itself (depending on how
long it takes to generate).
</p>


<div class="figure">
<p><img src="wa_design_sequence_diagram2.png" alt="wa_design_sequence_diagram2.png" />
</p>
</div>


<p>
A problem with the old design was that it had one class, <code>TnConverter</code>,
doing all the work. This monolithic design resulted in copious
conditional logic in order to deal with handling different types of
resources differently, e.g., USFM files, translation notes, etc..
</p>

<p>
This new version of the design has extracted logic paths unique to
each resource type and relocated them into Resource subclasses,
created via a factory method (<code>ResourceFactory</code>). These subclasses share
a clean interface: <code>find_location</code>, <code>get_files</code>, <code>initialize_properties</code>,
<code>get_content</code>. The work of <code>find_location</code> is delegated to
<code>ResourceJsonLookup</code> for all instances. <code>get_files</code> is also common to all
subclasses and not specialized from the <code>Resource</code> superclass.
Specialization in each subclass happens in the <code>initialize_properties</code>
and <code>get_content</code> methods.
</p>

<p>
This new design has also replaced the design of passing around a
dictionary within <code>DocumentGenerator</code>. Each resource that is part of a
single document request is now fully reified into its own object and
<code>DocumentGenerator</code> maintains a collection of these Resource instances.
</p>

<p>
<code>DocumentGenerator</code> also now maintains a unique key for each particular
collection of resources in the document generation request. This will
make it possible in a future design to simply lookup, if it exists, an
already finalized and generated document if one with the same
resources and order has been requested in the past. This should
greatly improve UX experience due to cutting out all the document
generation processing time.
</p>


<div class="figure">
<p><img src="wa_design_class_diagram_resources.png" alt="wa_design_class_diagram_resources.png" />
</p>
</div>


<p>
The interface for ResourceLookup has not changed since the last
design, but some of the underlying implementation details have that
are not relevant to this design document.
</p>


<div class="figure">
<p><img src="wa_design_class_diagram.png" alt="wa_design_class_diagram.png" />
</p>
</div>


<p>
As mentioned above a <code>DocumentGenerator</code> accepts a document generation
request composed of resources. <code>DocumentGenerator</code> instantiates the
appropriate <code>Resource</code> subclass based on the resource type. Each
<code>Resource</code> instance composes one <code>ResourceJsonLookup</code> to which it delegates
lookup tasks.
</p>


<div class="figure">
<p><img src="wa_design_class_diagram2.png" alt="wa_design_class_diagram2.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgd4770bc" class="outline-3">
<h3 id="orgd4770bc"><span class="section-number-3">1.4</span> Docker container</h3>
<div class="outline-text-3" id="text-1-4">
<p>
There isn't much to say about the docker container except that it
provides the runtime environment, obviously. The only significant new
detail is that fastapi can be specified to run on a particular IP and
port (seen in <code>docker-compose.yaml</code>) which <code>BIEL</code> will know and use when
submitting requests.
</p>

<p>
In a later iteration toward the end, Fastapi will presumably be load
balanced. Further, to protect its pool of workers from being tied up
by long running client requests from <code>BIEL</code>, one can adopt an
architecture such as the one described in the next paragraph.
</p>

<p>
<code>nginx</code> in front of <code>gnunicorn</code> in front of fastapi could be put in place to
handle load balancing incoming front end requests from <code>BIEL</code>. To learn
why you might do something like that please see this <a href="https://stackoverflow.com/questions/20766684/what-benefit-is-added-by-using-gunicorn-nginx-flask#20766961">stackoverflow answer</a>
</p>

<p>
I am not bothering myself with this at all right now, just mentioning
it. There are other architectures that could be used when we get
there.
</p>
</div>
</div>
<div id="outline-container-orgce27244" class="outline-3">
<h3 id="orgce27244"><span class="section-number-3">1.5</span> (Bonus/optional material) Convenience web service endpoints for BIEL UI to call (if desired)</h3>
<div class="outline-text-3" id="text-1-5">
<p>
In the interest of good user experience, it will be important that
<code>BIEL</code> only request resources that actually exist (as defined by
<code>translations.json</code>).
</p>

<p>
I've provided a few web app endpoints from which <code>BIEL</code> can
request data in order to populate its dropdown menu's in <code>BIEL</code>'s
document request wizard.
</p>

<p>
You can see those by looking at ../tests/e2e/test<sub>biel</sub><sub>helper.py</sub>
</p>
</div>
</div>
<div id="outline-container-org001af98" class="outline-3">
<h3 id="org001af98"><span class="section-number-3">1.6</span> Oddities - differences from the norm in resources I've found</h3>
<div class="outline-text-3" id="text-1-6">
<p>
These are oddities that are not currently handled, either at all or
totally, either by the original system or the current system.
</p>

<p>
Examples:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Language code</th>
<th scope="col" class="org-left">Resource type</th>
<th scope="col" class="org-left">Resource code</th>
<th scope="col" class="org-left">Oddity</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ml</td>
<td class="org-left">tn</td>
<td class="org-left">any</td>
<td class="org-left">zip contains a manifest.yaml per usual, but the translation</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">notes are not in markdown they are tsv files.</td>
</tr>

<tr>
<td class="org-left">erk-x-erakor</td>
<td class="org-left">reg</td>
<td class="org-left">any</td>
<td class="org-left">manifest.json rather than manifest.txt or manifest.yaml.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">manifest.json has different structure and keys.</td>
</tr>

<tr>
<td class="org-left">en</td>
<td class="org-left">tn-wa</td>
<td class="org-left">any</td>
<td class="org-left">translations.json only lists links to PDFs</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org895c6b0" class="outline-3">
<h3 id="org895c6b0"><span class="section-number-3">1.7</span> Handling different manifests</h3>
<div class="outline-text-3" id="text-1-7">
<p>
Lang,
</p>

<p>
In our previous meeting, I mentioned how different repos and projects
had different manifests, and that they have evolved since the
beginning of the project.
</p>

<p>
Here is an example of some code that is version-aware and migrates
older versions of manifests to the most recent one. I hope it may be
of some use to you, even if only to highlight what some of the
differences between the versions are:
</p>

<p>
<a href="https://github.com/Bible-Translation-Tools/BTT-Writer-Desktop/blob/master/src/js/migrator.js">https://github.com/Bible-Translation-Tools/BTT-Writer-Desktop/blob/master/src/js/migrator.js</a>
</p>


<p>
Craig Oliver
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2021-01-11 Mon 20:10</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>